<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mx.sep.sajja.dao.OpcionMenuDao">

	<resultMap type="OpcionMenu" id="resultOpcionMenu">
		<id property="id" column="id_t_opcion"/>
		<result property="opcion" column="v_opcion"/>
		<result property="descripcion" column="v_descripcion"/>
		<result property="url" column="v_url"/>
		<association property="moduloMenu" column="id_t_modulo" javaType="ModuloMenu"
			resultMap="mx.sep.sajja.dao.ModuloMenuDao.resultModuloMenu"/>		
	</resultMap>

	<select id="consultarTodos" resultMap="resultOpcionMenu">
		select * from seguridad.t_opcion_menu;
	</select>
	
	<select id="consultarOpcion" resultMap="resultOpcionMenu">
		select * from seguridad.t_opcion_menu where id_t_opcion = #{id};
	</select>
	
	<select id="consultarOpcionModulo" resultMap="resultOpcionMenu">
		select * from seguridad.t_opcion_menu op
		left join seguridad.t_modulo_menu mo on op.id_t_modulo = mo.id_t_modulo
		where id_t_opcion = #{id};
	</select>	
	
	<select id="consultarOpcionesHijas" resultMap="resultOpcionMenu">
		select * from seguridad.t_opcion_menu
		where id_t_opcion_padre = #{idPadre};	
	</select>	
</mapper>